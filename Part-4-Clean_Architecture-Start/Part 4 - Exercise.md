### Part 4 - Creating a Clean Architecture

1. Add a new .NET Standard project to the solution named **TipCalc_core**.
2. Add a new folder in the **TipCalc_core** project named **Interfaces**.
3. Create a new interface named **ITipCalculator.cs** in the **Interfaces** folder.
4. Replace all the autogenerated code with the following code:

       namespace tipcalc_core.Interfaces
       {
            public interface ITipCalculator
            {
                decimal Total { get; set; }
                decimal Tip { get; set; }
                decimal TipPercent { get; set; }
                decimal GrandTotal { get; }

                void CalcTip();

                void CalcTipPercentage();
            }
       }
5. Add a new folder in the **TipCal_core** project named **Models**.
6. Copy the TipCalculator.cs file from the TipCalc project to the Models folder in the TipCalc_Core project.
7. Update the TipCalculator class to implement the ITipCalculator interface.
 * Add the following using statement to the TipCalculator class:
 
       using tipcalc_core.Interfaces;

 * Add the following to the class definition:
   
       public class TipCalculator : ITipCalculator

 * Change the namespace to the following:

       namespace TipCalc_core.Models

8. Delete the TipCalculator.cs file from the TipCalc project.
9. Right click on the TipCalc project and add a reference to the TipCalc_core project.
10. Update the MainPageViewModel in the TipCalc project with the following using statement:

        using TipCalc_core.Interfaces;

11. Update the following line in the MainPageViewModel:

        readonly TipCalculator _calculator;

    to

        private readonly ITipCalculator _calculator;

12. Update the MainPageViewModel's constructor to the following code:

        public MainPageViewModel(ITipCalculator tipCalculator)
        {
            _calculator = tipCalculator;
        }

13. Add the following using statement to the MainPageView.xaml.cs file:

        using TipCalc_core.Models;

14. Update the following line in the MainPageView.xaml.cs file:

        VM = new MainPageViewModel();

     to

        VM = new MainPageViewModel(new TipCalculator());

15. Execute the application and it should function as before.  We have implemented the onion/clean architecture and the code is more testable and follows good design.